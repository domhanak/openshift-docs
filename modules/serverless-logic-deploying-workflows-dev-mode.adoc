// Module included in the following assemblies:
//
// * serverless/serverless-logic/serverless-logic-creating-managing-workflows.adoc

:_mod-docs-content-type: PROCEDURE
[id="serverless-logic-deploying-workflows-dev-mode_{context}"]
= Deploying workflows in Dev mode

You can deploy your local workflow on {ocp-product-title} in Dev mode. You can use this deployment to experiment and modify your workflow directly on the cluster, seeing changes almost immediately. Dev mode is designed for development and testing purposes. It is ideal for initial development stages and for testing new changes.

.Prerequisites

* You have {ServerlessLogicOperatorName} installed on your cluster.
* You have access to a {ServerlessLogicProductName} project with the appropriate roles and permissions to create applications and other workloads in {ocp-product-title}.
* You have installed the {ServerlessLogicProductName} `kn-workflow` CLI plugin.
* You have installed the OpenShift CLI `(oc)`.

.Procedure

. Login to your cluster, by running the following command:
+
[source,terminal]
----
$ oc login --token=<your_token> --server=<your_clusters_server_url>
----

. Create a namespace in your cluster, by running the following command:
+
[source,terminal]
----
$ oc create namespace <namespace>
----

. In your terminal, navigate to the root directory of your {ServerlessLogicProductName} project.

. Deploy the application, by running the following command:
+
[source,terminal]
----
$ kn workflow deploy -n <namespace>
----

. Verify the deployment and check the status of the deployed workflow by entering the following command:
+
[source,terminal]
----
$ oc get workflow -n <namespace>
----
+
Ensure that your workflow is listed and the status is `Running` or `Completed`.

. Edit the workflow directly in the cluster by entering the following command: 
+
[source,terminal]
----
$ oc edit sonataflow <workflow_name> -n <namespace>
----

. After editing, save the changes. The {ServerlessLogicOperatorName} detects the changes and updates the workflow accordingly.

.Verification

. To ensure the changes are applied correctly, verify the status and logs of the workflow by entering the following commands: 

.. View the status of the workflow by running the following command:
+
[source,terminal]
----
$ oc get sonataflows -n <namespace>
----

.. Find the pod of your application by running the following command:
+
[source,terminal]
----
$ oc get pods -n <namespace>
----

.. View the workflow logs by running the following command:
+
[source,terminal]
----
$ oc logs <workflow_pod_name> -n <namespace>
----

.Testing

. The {ServerlessLogicOperatorName} automatically generates a route for workflow deployments using the `dev` profile. To test your workflow, you can use management console that is accessible via the created route. The management console allows you execute the workflow and inspect executed the instances in detail.
Access the management console by excuting following steps: 

.. Get the <WORKFLOW_URL> by running the following command:
+
[source,terminal]
----
$ oc get route/<workflow_name> -n <namespace>
----
+
Note the `HOST/PORT` value, referenced as <WORKFLOW_URL>.

.. Navigate to the `<WORKFLOW_URL>/q/dev-ui/org.apache.kie.sonataflow.sonataflow-quarkus-devui/workflows` in your browser. Please note that it may take some time until the management console is available. 


.Next steps

. After completing the testing, delete the resources to avoid unnecessary usage by running the following command:
+
[source,terminal]
----
$ kn workflow undeploy -n <namespace>
----




